datasource db {
  provider = "sqlite"
  url      = "file:dev.db"
  default  = true
}

generator photon {
  provider = "photonjs"
}

model User {
  id String @default(cuid()) @id
  name String
  email String
  trumpPlayer TrumpPlayer? @relation(name: "TrumpPlayer")
}

model TrumpPlayer {
  id String @default(cuid()) @id
  user User @relation(name: "TrumpPlayer")
  trumpPacks TrumpPack[]
  trumpGames TrumpGame[] @relation(name: "PlayerTrumpGame")
  trumpGamesAtTurn TrumpGame[] @relation(name: "PlayerTrumpGameAtTurn")
}

model TrumpGame {
  id String @default(cuid()) @id
  players TrumpPlayer[] @relation(name: "PlayerTrumpGame")
  pack TrumpPack
  playerAtTurn TrumpPlayer? @relation(name: "PlayerTrumpGameAtTurn")
}

model TrumpPack {
  id String @default(cuid()) @id
  name String @unique
  description String
  cards TrumpCard[]
  tags Tag[]
  rating Float 
  attributes TrumpAttribute[]
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

model Tag {
  id String @default(cuid()) @id
  name String
}

model TrumpCard {
  id String @default(cuid()) @id
  name String
  description String?
  attributeValues TrumpAttributeValue[]
  imageUrl String?
}

model TrumpAttribute {
  id String @default(cuid()) @id
  name String
  aimHigh Boolean @default(true)
}

model TrumpAttributeValue {
  id String @default(cuid()) @id
  attribute TrumpAttribute
  value Float
}
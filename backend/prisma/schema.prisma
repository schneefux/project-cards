datasource db {
  provider = "sqlite"
  url      = "file:dev.db"
  default  = true
}

generator photon {
  provider = "photonjs"
}

model User {
  id String @default(cuid()) @id
  name String
  email String
  trumpPlayer TrumpPlayer @relation(name: "UserPlayer")
}

model TrumpPlayer {
  id String @default(cuid()) @id
  user User @relation(name: "UserPlayer")
  trumpPacks TrumpPack[]
  trumpGames TrumpGame[] @relation(name: "UserTrumpGame")
  trumpGamesAtTurn TrumpGame[] @relation(name: "UserTrumpGameAtTurn")
}

model TrumpGame {
  id String @default(cuid()) @id
  users TrumpPlayer[] @relation(name: "UserTrumpGame")
  pack TrumpPack
  userAtTurn TrumpPlayer @relation(name: "UserTrumpGameAtTurn")
}

model TrumpPack {
  id String @default(cuid()) @id
  name String @unique
  cards TrumpCard[]
  attributes TrumpAttribute[]
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

model TrumpCard {
  id String @default(cuid()) @id
  name String
  description String?
  attributeValues TrumpAttributeValue[]
  imageUrl String?
}

model TrumpAttribute {
  id String @default(cuid()) @id
  name String
  aimHigh Boolean @default(true)
}

model TrumpAttributeValue {
  id String @default(cuid()) @id
  attribute TrumpAttribute
  value Float
}